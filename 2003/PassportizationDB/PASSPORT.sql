

-- Generated by Relational Schema Center on Fri Nov 07 14:50:23 MSK 2003


CREATE SCHEMA DB2ADMIN;

CREATE TABLE DB2ADMIN.CLASSIFIERS
  (CLASSIFIERID INTEGER NOT NULL,
   CAPTION VARCHAR(255),
   PARENTCLASSIFIERID INTEGER,
   FD DATE);

ALTER TABLE DB2ADMIN.CLASSIFIERS
  ADD CONSTRAINT SQL031107130745870 PRIMARY KEY (CLASSIFIERID);

CREATE TABLE DB2ADMIN.FACTORGROUPS
  (FACTORGROUPID INTEGER NOT NULL,
   CAPTION VARCHAR(255),
   FD DATE);

ALTER TABLE DB2ADMIN.FACTORGROUPS
  ADD CONSTRAINT SQL031107130746090 PRIMARY KEY (FACTORGROUPID);

CREATE TABLE DB2ADMIN.FACTORS
  (FACTORID INTEGER NOT NULL,
   CAPTION VARCHAR(255),
   FD DATE,
   FACTORGROUPID INTEGER,
   MINVALUE INTEGER,
   MAXVALUE INTEGER,
   DATATYPE INTEGER,
   VERIFYFORMULA VARCHAR(255),
   AGGREGATIONFORMULA VARCHAR(255),
   CLASSIFIERID INTEGER);

ALTER TABLE DB2ADMIN.FACTORS
  ADD CONSTRAINT SQL031107130746430 PRIMARY KEY (FACTORID);

CREATE TABLE DB2ADMIN.FORMSSECTIONS
  (FD DATE,
   INPUTFORMID INTEGER NOT NULL,
   CLASSIFIERID INTEGER NOT NULL,
   SIDE INTEGER,
   SECTIONID INTEGER NOT NULL,
   PARENTSECTIONID INTEGER,
   DISPLAYCOLUMN INTEGER);

ALTER TABLE DB2ADMIN.FORMSSECTIONS
  ADD CONSTRAINT SQL031107130746850 PRIMARY KEY (SECTIONID);

CREATE TABLE DB2ADMIN.INPUTFORMS
  (INPUTFORMID INTEGER NOT NULL,
   CAPTION VARCHAR(255),
   FD DATE,
   INPUTTYPE INTEGER,
   SUBTOPICID INTEGER);

ALTER TABLE DB2ADMIN.INPUTFORMS
  ADD CONSTRAINT SQL031107130747170 PRIMARY KEY (INPUTFORMID);

CREATE TABLE DB2ADMIN.INPUTFORMSFACTORS
  (INPUTFORMID INTEGER NOT NULL,
   FACTORID INTEGER NOT NULL,
   FD DATE,
   INPUTTYPE INTEGER);

ALTER TABLE DB2ADMIN.INPUTFORMSFACTORS
  ADD CONSTRAINT SQL031107130747590 PRIMARY KEY (INPUTFORMID, FACTORID);

CREATE TABLE DB2ADMIN.PASSPORTFACTORS
  (PASSPORTID INTEGER NOT NULL,
   FACTORID INTEGER NOT NULL,
   FD DATE,
   VALUE VARCHAR(20),
   INPUTTYPE INTEGER,
   MD DATE,
   USERID INTEGER);

ALTER TABLE DB2ADMIN.PASSPORTFACTORS
  ADD CONSTRAINT SQL031107130748100 PRIMARY KEY (PASSPORTID, FACTORID);

CREATE TABLE DB2ADMIN.PASSPORTS
  (PASSPORTID INTEGER NOT NULL,
   FD DATE,
   TERRITORIAIOFFICEID INTEGER,
   DELIVERYDATE DATE);

ALTER TABLE DB2ADMIN.PASSPORTS
  ADD CONSTRAINT SQL031107130748370 PRIMARY KEY (PASSPORTID);

CREATE TABLE DB2ADMIN.SUBTOPICS
  (SUBTOPICID INTEGER NOT NULL,
   CAPTION VARCHAR(255),
   FD DATE,
   TOPICID INTEGER);

ALTER TABLE DB2ADMIN.SUBTOPICS
  ADD CONSTRAINT SQL031107130748640 PRIMARY KEY (SUBTOPICID);

CREATE TABLE DB2ADMIN.SYSTEMPERMISSIONS
  (PERMISSIONID INTEGER NOT NULL,
   CAPTION VARCHAR(255),
   FD DATE);

ALTER TABLE DB2ADMIN.SYSTEMPERMISSIONS
  ADD CONSTRAINT SQL031107130748890 PRIMARY KEY (PERMISSIONID);

CREATE TABLE DB2ADMIN.TERRITORIAIOFFICES
  (TERRITORIAIOFFICEID INTEGER NOT NULL,
   CAPTION VARCHAR(255),
   FD DATE);

ALTER TABLE DB2ADMIN.TERRITORIAIOFFICES
  ADD CONSTRAINT SQL031107130749060 PRIMARY KEY (TERRITORIAIOFFICEID);

CREATE TABLE DB2ADMIN.TOPICS
  (TOPICID INTEGER NOT NULL,
   CAPTION VARCHAR(255),
   FD DATE);

ALTER TABLE DB2ADMIN.TOPICS
  ADD CONSTRAINT SQL031107130749280 PRIMARY KEY (TOPICID);

CREATE TABLE DB2ADMIN.USERGROUPS
  (USERGROUPID INTEGER NOT NULL,
   FD DATE,
   CAPTION VARCHAR(255));

ALTER TABLE DB2ADMIN.USERGROUPS
  ADD CONSTRAINT SQL031107130749480 PRIMARY KEY (USERGROUPID);

CREATE TABLE DB2ADMIN.USERGROUPSPERMISSIONS
  (USERGROUPID INTEGER NOT NULL,
   PERMISSIONID INTEGER NOT NULL,
   FD DATE,
   SUBTOPICID INTEGER NOT NULL);

ALTER TABLE DB2ADMIN.USERGROUPSPERMISSIONS
  ADD CONSTRAINT SQL031107130749870 PRIMARY KEY (USERGROUPID, PERMISSIONID, SUBTOPICID);

CREATE TABLE DB2ADMIN.USERPERMISSIONS
  (USERID INTEGER NOT NULL,
   PERMISSIONID INTEGER NOT NULL,
   FD DATE,
   SUBTOPICID INTEGER NOT NULL);

ALTER TABLE DB2ADMIN.USERPERMISSIONS
  ADD CONSTRAINT SQL031107130750320 PRIMARY KEY (USERID, PERMISSIONID, SUBTOPICID);

CREATE TABLE DB2ADMIN.USERS
  (USERID INTEGER NOT NULL,
   LASTNAME VARCHAR(60),
   FD DATE,
   MIDDLENAME VARCHAR(20),
   FIRSTNAME VARCHAR(60),
   USERPASSWORD VARCHAR(20),
   USERLOGIN VARCHAR(20),
   USERGROUPID INTEGER);

ALTER TABLE DB2ADMIN.USERS
  ADD CONSTRAINT SQL031107130750620 PRIMARY KEY (USERID);

ALTER TABLE DB2ADMIN.CLASSIFIERS
  ADD CONSTRAINT SQL031107130750650 FOREIGN KEY (PARENTCLASSIFIERID)
  REFERENCES DB2ADMIN.CLASSIFIERS(CLASSIFIERID)
  ON DELETE SET NULL
  ON UPDATE NO ACTION;

ALTER TABLE DB2ADMIN.FACTORS
  ADD CONSTRAINT SQL031107130750650 FOREIGN KEY (CLASSIFIERID)
  REFERENCES DB2ADMIN.CLASSIFIERS(CLASSIFIERID)
  ON DELETE SET NULL
  ON UPDATE NO ACTION;

ALTER TABLE DB2ADMIN.FACTORS
  ADD CONSTRAINT SQL031107130750651 FOREIGN KEY (FACTORGROUPID)
  REFERENCES DB2ADMIN.FACTORGROUPS(FACTORGROUPID)
  ON DELETE SET NULL
  ON UPDATE NO ACTION;

ALTER TABLE DB2ADMIN.FORMSSECTIONS
  ADD CONSTRAINT SQL031107130750760 FOREIGN KEY (CLASSIFIERID)
  REFERENCES DB2ADMIN.CLASSIFIERS(CLASSIFIERID)
  ON DELETE RESTRICT
  ON UPDATE RESTRICT;

ALTER TABLE DB2ADMIN.FORMSSECTIONS
  ADD CONSTRAINT SQL031107130750680 FOREIGN KEY (PARENTSECTIONID)
  REFERENCES DB2ADMIN.FORMSSECTIONS(SECTIONID)
  ON DELETE SET NULL
  ON UPDATE NO ACTION;

ALTER TABLE DB2ADMIN.FORMSSECTIONS
  ADD CONSTRAINT SQL031107130750761 FOREIGN KEY (INPUTFORMID)
  REFERENCES DB2ADMIN.INPUTFORMS(INPUTFORMID)
  ON DELETE RESTRICT
  ON UPDATE RESTRICT;

ALTER TABLE DB2ADMIN.INPUTFORMS
  ADD CONSTRAINT SQL031107130750780 FOREIGN KEY (SUBTOPICID)
  REFERENCES DB2ADMIN.SUBTOPICS(SUBTOPICID)
  ON DELETE SET NULL
  ON UPDATE NO ACTION;

ALTER TABLE DB2ADMIN.INPUTFORMSFACTORS
  ADD CONSTRAINT SQL031107130750780 FOREIGN KEY (FACTORID)
  REFERENCES DB2ADMIN.FACTORS(FACTORID)
  ON DELETE RESTRICT
  ON UPDATE RESTRICT;

ALTER TABLE DB2ADMIN.INPUTFORMSFACTORS
  ADD CONSTRAINT SQL031107130750781 FOREIGN KEY (INPUTFORMID)
  REFERENCES DB2ADMIN.INPUTFORMS(INPUTFORMID)
  ON DELETE RESTRICT
  ON UPDATE RESTRICT;

ALTER TABLE DB2ADMIN.PASSPORTFACTORS
  ADD CONSTRAINT SQL031107130750791 FOREIGN KEY (FACTORID)
  REFERENCES DB2ADMIN.FACTORS(FACTORID)
  ON DELETE RESTRICT
  ON UPDATE RESTRICT;

ALTER TABLE DB2ADMIN.PASSPORTFACTORS
  ADD CONSTRAINT SQL031107130750792 FOREIGN KEY (PASSPORTID)
  REFERENCES DB2ADMIN.PASSPORTS(PASSPORTID)
  ON DELETE RESTRICT
  ON UPDATE RESTRICT;

ALTER TABLE DB2ADMIN.PASSPORTFACTORS
  ADD CONSTRAINT SQL031107130750790 FOREIGN KEY (USERID)
  REFERENCES DB2ADMIN.USERS(USERID)
  ON DELETE SET NULL
  ON UPDATE NO ACTION;

ALTER TABLE DB2ADMIN.PASSPORTS
  ADD CONSTRAINT SQL031107130750810 FOREIGN KEY (TERRITORIAIOFFICEID)
  REFERENCES DB2ADMIN.TERRITORIAIOFFICES(TERRITORIAIOFFICEID)
  ON DELETE SET NULL
  ON UPDATE NO ACTION;

ALTER TABLE DB2ADMIN.SUBTOPICS
  ADD CONSTRAINT SQL031107130750810 FOREIGN KEY (TOPICID)
  REFERENCES DB2ADMIN.TOPICS(TOPICID)
  ON DELETE SET NULL
  ON UPDATE NO ACTION;

ALTER TABLE DB2ADMIN.USERGROUPSPERMISSIONS
  ADD CONSTRAINT SQL031107130750900 FOREIGN KEY (SUBTOPICID)
  REFERENCES DB2ADMIN.SUBTOPICS(SUBTOPICID)
  ON DELETE SET NULL
  ON UPDATE NO ACTION;

ALTER TABLE DB2ADMIN.USERGROUPSPERMISSIONS
  ADD CONSTRAINT SQL031107130750901 FOREIGN KEY (PERMISSIONID)
  REFERENCES DB2ADMIN.SYSTEMPERMISSIONS(PERMISSIONID)
  ON DELETE RESTRICT
  ON UPDATE RESTRICT;

ALTER TABLE DB2ADMIN.USERGROUPSPERMISSIONS
  ADD CONSTRAINT SQL031107130750960 FOREIGN KEY (USERGROUPID)
  REFERENCES DB2ADMIN.USERGROUPS(USERGROUPID)
  ON DELETE RESTRICT
  ON UPDATE RESTRICT;

ALTER TABLE DB2ADMIN.USERPERMISSIONS
  ADD CONSTRAINT SQL031107130750980 FOREIGN KEY (SUBTOPICID)
  REFERENCES DB2ADMIN.SUBTOPICS(SUBTOPICID)
  ON DELETE SET NULL
  ON UPDATE NO ACTION;

ALTER TABLE DB2ADMIN.USERPERMISSIONS
  ADD CONSTRAINT SQL031107130750981 FOREIGN KEY (PERMISSIONID)
  REFERENCES DB2ADMIN.SYSTEMPERMISSIONS(PERMISSIONID)
  ON DELETE RESTRICT
  ON UPDATE RESTRICT;

ALTER TABLE DB2ADMIN.USERPERMISSIONS
  ADD CONSTRAINT SQL031107130750982 FOREIGN KEY (USERID)
  REFERENCES DB2ADMIN.USERS(USERID)
  ON DELETE RESTRICT
  ON UPDATE RESTRICT;